<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>‚ö° Î¨¥Ìé≠Ïù¥ ÏÑ±Ïû• ‚Äî Agent Growth Dashboard</title>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body { font-family: 'SF Mono', 'Fira Code', monospace; background: #0a0a0f; color: #e0e0e0; min-height: 100vh; overflow-x: hidden; }

  .header { text-align: center; padding: 2rem 1rem 1.5rem; border-bottom: 1px solid #1a1a2a; }
  .header h1 { font-size: 2rem; letter-spacing: 3px; background: linear-gradient(90deg, #00d4ff, #00ff88, #ff9500); -webkit-background-clip: text; -webkit-text-fill-color: transparent; animation: shimmer 3s infinite; }
  .header .tagline { color: #555; font-size: 0.7rem; margin-top: 8px; letter-spacing: 2px; }

  @keyframes shimmer { 0%,100% { filter: hue-rotate(0deg); } 50% { filter: hue-rotate(20deg); } }

  .links { display: flex; justify-content: center; gap: 1rem; padding: 1rem; }
  .links a { color: #444; font-size: 0.7rem; text-decoration: none; padding: 4px 10px; border: 1px solid #1a1a2a; border-radius: 4px; transition: all 0.3s; }
  .links a:hover { color: #00d4ff; border-color: #00d4ff; }

  .container { max-width: 1400px; margin: 0 auto; padding: 2rem 1rem; }

  /* Level Section */
  .level-section { text-align: center; margin-bottom: 3rem; }
  .level-display { position: relative; display: inline-block; }
  .level-number { font-size: 5rem; font-weight: 900; color: #00ff88; text-shadow: 0 0 20px rgba(0, 255, 136, 0.6), 0 0 40px rgba(0, 255, 136, 0.3); animation: pulse-glow 2s ease-in-out infinite; }
  .level-label { color: #555; font-size: 0.8rem; letter-spacing: 3px; margin-top: -10px; }

  @keyframes pulse-glow { 0%,100% { text-shadow: 0 0 20px rgba(0,255,136,0.6), 0 0 40px rgba(0,255,136,0.3); } 50% { text-shadow: 0 0 30px rgba(0,255,136,0.8), 0 0 60px rgba(0,255,136,0.4); } }

  .xp-section { max-width: 600px; margin: 1.5rem auto 0; }
  .xp-info { display: flex; justify-content: space-between; margin-bottom: 8px; font-size: 0.75rem; color: #888; }
  .xp-bar-bg { background: #1a1a2a; border-radius: 12px; height: 24px; overflow: hidden; position: relative; box-shadow: inset 0 2px 8px rgba(0,0,0,0.6); }
  .xp-bar-fill { height: 100%; background: linear-gradient(90deg, #00d4ff, #00ff88); border-radius: 12px; transition: width 1s ease; position: relative; overflow: hidden; }
  .xp-bar-fill::after { content: ''; position: absolute; top: 0; left: -100%; width: 100%; height: 100%; background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent); animation: xp-shine 2s infinite; }
  .xp-text { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 0.7rem; font-weight: 700; color: #fff; text-shadow: 0 1px 4px rgba(0,0,0,0.8); }

  @keyframes xp-shine { 0% { left: -100%; } 100% { left: 200%; } }

  /* Grid Layout */
  .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 1.5rem; }

  .panel { background: rgba(255, 255, 255, 0.02); border: 1px solid #1a1a2a; border-radius: 12px; padding: 1.5rem; transition: all 0.3s; }
  .panel:hover { border-color: #2a2a3a; box-shadow: 0 4px 16px rgba(0,0,0,0.4); }
  .panel-header { display: flex; align-items: center; gap: 8px; margin-bottom: 1rem; padding-bottom: 0.5rem; border-bottom: 1px solid #1a1a2a; }
  .panel-icon { font-size: 1.5rem; }
  .panel-title { font-size: 0.9rem; font-weight: 700; color: #aaa; text-transform: uppercase; letter-spacing: 1px; }

  /* Skills Radar */
  #skills-canvas { width: 100%; height: 300px; }

  /* Timeline */
  .timeline { position: relative; }
  .timeline-item { display: flex; gap: 1rem; margin-bottom: 1.5rem; position: relative; }
  .timeline-item::before { content: ''; position: absolute; left: 15px; top: 30px; width: 2px; height: calc(100% + 10px); background: #1a1a2a; }
  .timeline-item:last-child::before { display: none; }
  .timeline-dot { width: 32px; height: 32px; border-radius: 50%; background: linear-gradient(135deg, #00d4ff, #00ff88); display: flex; align-items: center; justify-content: center; font-size: 1rem; flex-shrink: 0; box-shadow: 0 0 12px rgba(0, 255, 136, 0.4); position: relative; z-index: 1; }
  .timeline-content { flex: 1; }
  .timeline-date { font-size: 0.65rem; color: #555; margin-bottom: 4px; }
  .timeline-title { font-size: 0.85rem; font-weight: 600; color: #ccc; margin-bottom: 4px; }
  .timeline-desc { font-size: 0.7rem; color: #777; line-height: 1.4; }

  /* Challenges */
  .challenge { background: rgba(255, 255, 255, 0.03); border: 1px solid #1a1a2a; border-radius: 8px; padding: 0.8rem; margin-bottom: 0.8rem; transition: all 0.3s; }
  .challenge.completed { border-color: rgba(0, 255, 136, 0.3); background: rgba(0, 255, 136, 0.05); }
  .challenge-top { display: flex; align-items: center; gap: 8px; }
  .challenge-check { width: 20px; height: 20px; border-radius: 4px; border: 2px solid #333; display: flex; align-items: center; justify-content: center; font-size: 0.7rem; }
  .challenge.completed .challenge-check { border-color: #00ff88; background: #00ff88; color: #0a0a0f; }
  .challenge-name { font-size: 0.75rem; font-weight: 600; color: #aaa; flex: 1; }
  .challenge-reward { font-size: 0.65rem; color: #ff9500; }

  /* Achievements */
  .achievements-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(100px, 1fr)); gap: 1rem; }
  .achievement { text-align: center; padding: 1rem 0.5rem; background: rgba(255, 255, 255, 0.02); border: 1px solid #1a1a2a; border-radius: 8px; transition: all 0.3s; position: relative; overflow: hidden; }
  .achievement.unlocked { border-color: rgba(255, 149, 0, 0.4); background: rgba(255, 149, 0, 0.05); }
  .achievement.unlocked::after { content: ''; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%; background: linear-gradient(45deg, transparent, rgba(255, 149, 0, 0.1), transparent); animation: achievement-shine 3s infinite; }
  .achievement:hover { transform: translateY(-4px); box-shadow: 0 6px 16px rgba(0,0,0,0.4); }
  .achievement-icon { font-size: 2rem; margin-bottom: 0.5rem; filter: grayscale(1) opacity(0.3); }
  .achievement.unlocked .achievement-icon { filter: grayscale(0) opacity(1); animation: bounce 0.6s ease; }
  .achievement-name { font-size: 0.65rem; color: #666; line-height: 1.2; }
  .achievement.unlocked .achievement-name { color: #ff9500; font-weight: 600; }
  .achievement-date { font-size: 0.55rem; color: #333; margin-top: 4px; }
  .achievement.unlocked .achievement-date { color: #555; }

  @keyframes achievement-shine { 0% { transform: rotate(0deg) translate(-50%, -50%); } 100% { transform: rotate(360deg) translate(-50%, -50%); } }
  @keyframes bounce { 0%,100% { transform: scale(1); } 50% { transform: scale(1.2); } }

  .footer { text-align: center; padding: 2rem 1rem; color: #222; font-size: 0.7rem; border-top: 1px solid #111; margin-top: 3rem; }
  .footer a { color: #00d4ff; text-decoration: none; }
</style>
</head>
<body>
  <div class="header">
    <h1>‚ö° Î¨¥Ìé≠Ïù¥ ÏÑ±Ïû•</h1>
    <div class="tagline">AGENT GROWTH DASHBOARD ¬∑ RPG MODE</div>
  </div>

  <div class="links">
    <a href="/agents.html">üêß ÏóêÏù¥Ï†ÑÌä∏ ÌòÑÌô©</a>
    <a href="/index.html">üìä Ï±ÑÌÉù ÌòÑÌô©</a>
    <a href="/demo.html">üé¨ Îç∞Î™®</a>
    <a href="https://github.com/mupengi-bot/mupengism" target="_blank">GitHub</a>
  </div>

  <div class="container">
    <!-- Level Display -->
    <div class="level-section">
      <div class="level-display">
        <div class="level-number" id="level">0.00</div>
      </div>
      <div class="level-label">CURRENT LEVEL</div>
      
      <!-- XP Bar -->
      <div class="xp-section">
        <div class="xp-info">
          <span>XP Progress to Next Level</span>
          <span id="xp-percent">0%</span>
        </div>
        <div class="xp-bar-bg">
          <div class="xp-bar-fill" id="xp-bar" style="width: 0%">
            <span class="xp-text" id="xp-text">0 / 0</span>
          </div>
        </div>
      </div>
    </div>

    <div class="grid">
      <!-- Skills Tree -->
      <div class="panel">
        <div class="panel-header">
          <span class="panel-icon">üéØ</span>
          <span class="panel-title">Skill Tree</span>
        </div>
        <canvas id="skills-canvas"></canvas>
      </div>

      <!-- Growth Timeline -->
      <div class="panel">
        <div class="panel-header">
          <span class="panel-icon">üìà</span>
          <span class="panel-title">Growth History</span>
        </div>
        <div class="timeline" id="timeline"></div>
      </div>

      <!-- Daily Challenges -->
      <div class="panel">
        <div class="panel-header">
          <span class="panel-icon">üé≤</span>
          <span class="panel-title">Daily Challenges</span>
        </div>
        <div id="challenges"></div>
      </div>

      <!-- Achievements -->
      <div class="panel" style="grid-column: 1 / -1;">
        <div class="panel-header">
          <span class="panel-icon">üèÜ</span>
          <span class="panel-title">Achievements</span>
        </div>
        <div class="achievements-grid" id="achievements"></div>
      </div>
    </div>
  </div>

  <div class="footer">
    Î¨¥Ìé≠Ïù¥Ï¶ò v2 ¬∑ <a href="https://github.com/mupengi-bot/mupengism">mupengi-bot/mupengism</a> ¬∑ ÏÑ±Ïû•ÏùÄ Î©àÏ∂îÏßÄ ÏïäÎäîÎã§
  </div>

<script>
let state = {};

function loadState() {
  fetch('growth-state.json?t=' + Date.now())
    .then(r => r.json())
    .then(data => {
      state = data;
      render();
    })
    .catch(() => {});
}

function render() {
  // Level
  document.getElementById('level').textContent = state.level.toFixed(3);

  // XP Bar
  const currentXP = state.xp.current;
  const nextLevelXP = state.xp.nextLevel;
  const percent = Math.min(100, Math.round((currentXP / nextLevelXP) * 100));
  document.getElementById('xp-bar').style.width = percent + '%';
  document.getElementById('xp-text').textContent = `${currentXP} / ${nextLevelXP}`;
  document.getElementById('xp-percent').textContent = percent + '%';

  // Skills Radar
  renderSkills();

  // Timeline
  const timeline = document.getElementById('timeline');
  timeline.innerHTML = state.timeline.map(item => `
    <div class="timeline-item">
      <div class="timeline-dot">${item.icon}</div>
      <div class="timeline-content">
        <div class="timeline-date">${item.date}</div>
        <div class="timeline-title">${item.title}</div>
        <div class="timeline-desc">${item.description}</div>
      </div>
    </div>
  `).join('');

  // Challenges
  const challenges = document.getElementById('challenges');
  challenges.innerHTML = state.challenges.map(c => `
    <div class="challenge ${c.completed ? 'completed' : ''}">
      <div class="challenge-top">
        <div class="challenge-check">${c.completed ? '‚úì' : ''}</div>
        <div class="challenge-name">${c.name}</div>
        <div class="challenge-reward">+${c.xp} XP</div>
      </div>
    </div>
  `).join('');

  // Achievements
  const achievements = document.getElementById('achievements');
  achievements.innerHTML = state.achievements.map(a => `
    <div class="achievement ${a.unlocked ? 'unlocked' : ''}">
      <div class="achievement-icon">${a.icon}</div>
      <div class="achievement-name">${a.name}</div>
      <div class="achievement-date">${a.unlocked ? a.date : 'üîí Locked'}</div>
    </div>
  `).join('');
}

function renderSkills() {
  const canvas = document.getElementById('skills-canvas');
  const ctx = canvas.getContext('2d');
  const dpr = window.devicePixelRatio || 1;
  const rect = canvas.getBoundingClientRect();
  canvas.width = rect.width * dpr;
  canvas.height = rect.height * dpr;
  ctx.scale(dpr, dpr);

  const centerX = rect.width / 2;
  const centerY = rect.height / 2;
  const maxRadius = Math.min(centerX, centerY) - 40;

  const skills = state.skills;
  const numSkills = skills.length;
  const angleStep = (Math.PI * 2) / numSkills;

  // Draw grid circles
  ctx.strokeStyle = '#1a1a2a';
  ctx.lineWidth = 1;
  for (let i = 1; i <= 5; i++) {
    ctx.beginPath();
    ctx.arc(centerX, centerY, (maxRadius / 5) * i, 0, Math.PI * 2);
    ctx.stroke();
  }

  // Draw grid lines
  ctx.strokeStyle = '#1a1a2a';
  skills.forEach((_, i) => {
    const angle = i * angleStep - Math.PI / 2;
    const x = centerX + Math.cos(angle) * maxRadius;
    const y = centerY + Math.sin(angle) * maxRadius;
    ctx.beginPath();
    ctx.moveTo(centerX, centerY);
    ctx.lineTo(x, y);
    ctx.stroke();
  });

  // Draw skill polygon
  ctx.beginPath();
  skills.forEach((skill, i) => {
    const angle = i * angleStep - Math.PI / 2;
    const value = skill.value / 5; // normalize to 0-1
    const radius = maxRadius * value;
    const x = centerX + Math.cos(angle) * radius;
    const y = centerY + Math.sin(angle) * radius;
    if (i === 0) ctx.moveTo(x, y);
    else ctx.lineTo(x, y);
  });
  ctx.closePath();
  ctx.fillStyle = 'rgba(0, 212, 255, 0.15)';
  ctx.fill();
  ctx.strokeStyle = '#00d4ff';
  ctx.lineWidth = 2;
  ctx.stroke();

  // Draw labels
  ctx.fillStyle = '#888';
  ctx.font = '11px SF Mono, monospace';
  ctx.textAlign = 'center';
  skills.forEach((skill, i) => {
    const angle = i * angleStep - Math.PI / 2;
    const labelRadius = maxRadius + 25;
    const x = centerX + Math.cos(angle) * labelRadius;
    const y = centerY + Math.sin(angle) * labelRadius + 4;
    ctx.fillText(skill.name, x, y);
    
    // Draw value
    ctx.fillStyle = '#00d4ff';
    ctx.font = 'bold 10px SF Mono';
    ctx.fillText(skill.value.toFixed(1), x, y + 14);
    ctx.fillStyle = '#888';
    ctx.font = '11px SF Mono';
  });
}

loadState();
setInterval(loadState, 5000);
</script>
</body>
</html>
